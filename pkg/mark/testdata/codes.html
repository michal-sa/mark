<p><code>inline</code></p>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language"></ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[some code]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">bash</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[code bash]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">bash</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[with a newline
]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">unknown</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[unknown code]]></ac:plain-text-body>
</ac:structured-macro>

<p>text
text 2</p>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">unknown</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[unknown code 2]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">sh</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:parameter ac:name="title">A b c</ac:parameter>
<ac:plain-text-body><![CDATA[no-collapse-title]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="expand">
<ac:parameter ac:name="title">A b c</ac:parameter>
<ac:rich-text-body>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">bash</ac:parameter>
<ac:parameter ac:name="collapse">true</ac:parameter>
<ac:parameter ac:name="title">A b c</ac:parameter>
<ac:plain-text-body><![CDATA[collapse-and-title]]></ac:plain-text-body>
</ac:structured-macro>
</ac:rich-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="expand">
<ac:rich-text-body>
<ac:structured-macro ac:name="code">
<ac:parameter ac:name="language">c</ac:parameter>
<ac:parameter ac:name="collapse">true</ac:parameter>
<ac:plain-text-body><![CDATA[collapse-no-title]]></ac:plain-text-body>
</ac:structured-macro>
</ac:rich-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="cloudscript-confluence-mermaid">
<ac:parameter ac:name="showSource">true</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:plain-text-body><![CDATA[graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;]]></ac:plain-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="expand">
<ac:parameter ac:name="title">my mermaid graph</ac:parameter>
<ac:rich-text-body>
<ac:structured-macro ac:name="cloudscript-confluence-mermaid">
<ac:parameter ac:name="showSource">true</ac:parameter>
<ac:parameter ac:name="collapse">true</ac:parameter>
<ac:parameter ac:name="title">my mermaid graph</ac:parameter>
<ac:plain-text-body><![CDATA[graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;]]></ac:plain-text-body>
</ac:structured-macro>
</ac:rich-text-body>
</ac:structured-macro>
<ac:structured-macro ac:name="cloudscript-confluence-mermaid">
<ac:parameter ac:name="showSource">true</ac:parameter>
<ac:parameter ac:name="collapse">false</ac:parameter>
<ac:parameter ac:name="title">my mermaid graph</ac:parameter>
<ac:plain-text-body><![CDATA[graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;]]></ac:plain-text-body>
</ac:structured-macro>
